(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1280:function(t,e,n){"use strict";var o=n(1),a=n.n(o),r=n(24),i=function(t){return a.a.createElement(r.a,t,a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{fill:"#0F88EB",d:"M2.64 13.39c1.068.895 1.808 2.733 1.66 4.113l.022-.196c-.147 1.384.856 2.4 2.24 2.278l-.198.016c1.387-.122 3.21.655 4.083 1.734l-.125-.154c.876 1.084 2.304 1.092 3.195.027l-.127.152c.895-1.068 2.733-1.808 4.113-1.66l-.198-.022c1.386.147 2.402-.856 2.279-2.238l.017.197c-.122-1.388.655-3.212 1.734-4.084l-.154.125c1.083-.876 1.092-2.304.027-3.195l.152.127c-1.068-.895-1.808-2.732-1.66-4.113l-.022.198c.147-1.386-.856-2.4-2.24-2.279l.198-.017c-1.387.123-3.21-.654-4.083-1.733l.125.153c-.876-1.083-2.304-1.092-3.195-.027l.127-.152c-.895 1.068-2.733 1.808-4.113 1.662l.198.02c-1.386-.147-2.4.857-2.279 2.24L4.4 6.363c.122 1.387-.655 3.21-1.734 4.084l.154-.126c-1.083.878-1.092 2.304-.027 3.195l-.152-.127z"}),a.a.createElement("path",{fill:"#FFF",d:"M9.78 15.728l-2.633-2.999s-.458-.705.242-1.362c.7-.657 1.328-.219 1.328-.219l1.953 2.132 4.696-4.931s.663-.348 1.299.198c.636.545.27 1.382.27 1.382s-3.466 3.858-5.376 5.782c-.98.93-1.778.017-1.778.017z"})))};i.defaultProps={name:"BadgeCert"},e.a=i},1427:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return bt}));var o={};n.r(o),n.d(o,"LEFT",(function(){return Q})),n.d(o,"RIGHT",(function(){return V})),n.d(o,"TOP",(function(){return $})),n.d(o,"BOTTOM",(function(){return tt})),n.d(o,"BOTTOM_LEFT",(function(){return et})),n.d(o,"BOTTOM_RIGHT",(function(){return nt})),n.d(o,"TOP_LEFT",(function(){return ot})),n.d(o,"TOP_RIGHT",(function(){return at})),n.d(o,"LEFT_TOP",(function(){return rt})),n.d(o,"LEFT_BOTTOM",(function(){return it})),n.d(o,"RIGHT_TOP",(function(){return lt})),n.d(o,"RIGHT_BOTTOM",(function(){return ct}));var a=n(31),r=n.n(a),i=n(1),l=n.n(i),c=n(17),s=n(2),u=n.n(s),d=n(6),p=n.n(d),f=n(66),h=n.n(f),m=n(40),g=n(1129),v=n(24),b=function(t){return l.a.createElement(v.a,t,l.a.createElement("g",{fill:"none",fillRule:"evenodd"},l.a.createElement("path",{fill:"#FF9500",d:"M2.64 13.39c1.068.895 1.808 2.733 1.66 4.113l.022-.196c-.147 1.384.856 2.4 2.24 2.278l-.198.016c1.387-.122 3.21.655 4.083 1.734l-.125-.154c.876 1.084 2.304 1.092 3.195.027l-.127.152c.895-1.068 2.733-1.808 4.113-1.66l-.198-.022c1.386.147 2.402-.856 2.279-2.238l.017.197c-.122-1.388.655-3.212 1.734-4.084l-.154.125c1.083-.876 1.092-2.304.027-3.195l.152.127c-1.068-.895-1.808-2.732-1.66-4.113l-.022.198c.147-1.386-.856-2.4-2.24-2.279l.198-.017c-1.387.123-3.21-.654-4.083-1.733l.125.153c-.876-1.083-2.304-1.092-3.195-.027l.127-.152c-.895 1.068-2.733 1.808-4.113 1.662l.198.02c-1.386-.147-2.4.857-2.279 2.24L4.4 6.363c.122 1.387-.655 3.21-1.734 4.084l.154-.126c-1.083.878-1.092 2.304-.027 3.195l-.152-.127z"}),l.a.createElement("path",{fill:"#FFF",d:"M12.034 14.959L9.379 16.58c-.468.286-.746.09-.617-.449l.721-3.025-2.362-2.024c-.417-.357-.317-.681.236-.725l3.1-.249 1.195-2.872c.21-.507.55-.512.763 0l1.195 2.872 3.1.249c.547.043.657.365.236.725l-2.362 2.024.721 3.025c.128.534-.144.738-.617.449l-2.654-1.621z"})))};b.defaultProps={name:"BadgeGlorious"};var O=b,y=n(1280),C=n(1124),w=n(1117),T=n(22),k=n(578),j=n(43),L=n(1100),E=n(3);function F(t){var e=t.mark,n=t.size,o=t.color,a=t.isDarkMode,r=t.colorfulStarsNum,i=Math.random();return Object(E.d)("svg",{width:"".concat(n),height:"".concat(n),viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(E.d)("defs",null,Object(E.d)("linearGradient",{id:"mixStar".concat(i),x1:"0%",y1:"0%",x2:"100%",y2:"0%"},Object(E.d)("stop",{offset:"0%",style:{stopColor:o,stopOpacity:1}}),Object(E.d)("stop",{offset:"".concat(100*(e-r),"%"),style:{stopColor:o,stopOpacity:1}}),Object(E.d)("stop",{offset:"".concat(100*(e-r),"%"),style:{stopColor:a?"#959595":"#D3D3D3",stopOpacity:1}}))),Object(E.d)("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"url(#mixStar".concat(i,")"),d:"M5.515 19.64l.918-5.355-3.89-3.792c-.926-.902-.639-1.784.64-1.97L8.56 7.74l2.404-4.871c.572-1.16 1.5-1.16 2.072 0L15.44 7.74l5.377.782c1.28.186 1.566 1.068.64 1.97l-3.89 3.793.918 5.354c.219 1.274-.532 1.82-1.676 1.218L12 18.33l-4.808 2.528c-1.145.602-1.896.056-1.677-1.218z"}))}function x(t){var e=t.mark,n=t.max,o=t.color,a=t.isLinear,r=t.size,i=t.text,l=Object(j.f)().isDarkMode,c=Math.floor(e),s=a?Math.floor(n-e):n-c,u=a?n-c-s:0,d=parseFloat(e);return d=d.toFixed(1),e>n?Object(E.d)("h3",null,"传参错误，参数 mark 不应该大于 max"):Object(E.d)("div",{className:"Stars"},new Array(c).fill("").map((function(t,e){return Object(E.d)(L.a,{width:"".concat(r),height:"".concat(r),fill:o,key:"color".concat(e)})})),u>0&&Object(E.d)(F,{mark:e,size:r,color:o,isDarkMode:l,colorfulStarsNum:c}),new Array(s).fill("").map((function(t,e){return Object(E.d)(L.a,{width:"".concat(r),height:"".concat(r),fill:l?"#959595":"#D3D3D3",key:"default".concat(e)})})),Object(E.d)("span",{style:{color:o,fontSize:"".concat(r-13+12,"px")}},i||d))}x.propTypes={mark:u.a.number.isRequired,max:u.a.number.isRequired,color:u.a.string,isLinear:u.a.bool,size:u.a.number,text:u.a.string},x.defaultProps={mark:0,max:5,color:"#FF9607",isLinear:!0,size:14,text:""};var R=x,M=n(70),P=n.n(M),S=n(21),G=n.n(S),N=n(23),z=n.n(N),D=n(25),B=n.n(D),_=n(29),H=n.n(_),I=n(16),A=n.n(I),U=n(36),q=n.n(U),K=n(47),W=n(132),J=n(113),X=n.n(J),Y=n(692),Z=n(689),Q="left",V="right",$="top",tt="bottom",et="bottom-left",nt="bottom-right",ot="top-left",at="top-right",rt="left-top",it="left-bottom",lt="right-top",ct="right-bottom",st=[$,tt],ut=[Q,V];function dt(t,e,n,o){var a,i,l,c,s,u=o.split("-"),d=r()(u,2),p=d[0],f=d[1],h=(i=(a=e).top,l=a.bottom,c=a.left,s=a.right,{top:Math.max(i,0),bottom:Math.min(Math.max(l,0),window.innerHeight),left:Math.max(c,0),right:Math.min(Math.max(s,0),window.innerWidth)}),m={},g={},v=p;if(st.includes(p)){var b,O,y=h.right-n.width,C=h.left;if(f===Q?(b=t.left,O=C):f===V?(b=t.right-n.width,O=y):(b=t.left+t.width/2-n.width/2,O=C),g.left=y>C?b<C?C:b<y?b:y:O,t.width<=n.width){var w=t.left+t.width/2;m.left=w-g.left}else m.left=n.width/2;p===tt&&t.bottom+n.height>h.bottom&&t.top-n.height>h.top&&(v=$),p===$&&t.bottom+n.height<h.bottom&&t.top-n.height<h.top&&(v=tt);var T=v===$?[n.height,t.top-n.height]:[0,t.bottom],k=r()(T,2);m.top=k[0],g.top=k[1]}if(ut.includes(p)){var j,L,E=h.bottom-n.height,F=h.top;if(f===$?(j=t.top,L=F):f===tt?(j=t.bottom-n.height,L=E):(j=t.top+t.height/2-n.height/2,L=F),g.top=E>F?j<F?F:j<E?j:E:L,t.width<=n.width){var x=t.top+t.height/2;m.top=x-g.top}else m.top=n.height/2;p===V&&t.right+n.width>h.right&&t.left-n.width>h.left&&(v=Q),p===Q&&t.right+n.width<h.right&&t.left-n.width<h.left&&(v=V);var R=v===Q?[n.width,t.left-n.width]:[0,t.right],M=r()(R,2);m.left=M[0],g.left=M[1]}return{arrowStyle:m,targetContainerStyle:g,placement:v}}function pt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=t.getElement,o=t.padding,a=void 0===o?0:o,r=t.getBoundaryInfo;if(r)return r();var i={};n?i=n():e&&(i=e);var l=i.getBoundingClientRect(),c=l.top,s=l.right,u=l.bottom,d=l.left;return{top:c+a,right:s-a,bottom:u-a,left:d+a}}function ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=A()(t);if(e){var a=A()(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return H()(this,n)}}var ht=["appear","enter","enter-active","exit","exit-active","leave","leave-active"].map((function(t){return"".concat("GRPopover-content","-").concat(t)})),mt=function(t){B()(n,t);var e=ft(n);function n(){var t;G()(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={id:null,opened:!1,arrowStyle:null,targetContainerStyle:null,placement:null},t.handleMouseEnter=function(e){var n=t.props,o=n.delay,a=n.enterDelay,r=n.onMouseEnter;r&&r(e),e.isDefaultPrevented()||(clearTimeout(t.openTask),clearTimeout(t.closeTask),t.openTask=setTimeout((function(){t.openTask=null,t.open()}),null!=a?a:o))},t.handleMouseLeave=function(){var e=t.props,n=e.stickHover,o=e.delay,a=e.leaveDelay;n||(clearTimeout(t.openTask),clearTimeout(t.closeTask),t.state.opened&&(t.closeTask=setTimeout((function(){t.closeTask=null,t.close()}),null!=a?a:o)))},t.handleClick=function(e){var n=t.props.onClick;n&&n(e),e.isDefaultPrevented()||t.open()},t.position=function(){if(!t.toggler||!t.targetContainer)return null;var e=t.props,n=e.placement,o=e.getContainer,a=e.position,r=e.positionStatus,i=e.boundary,l=void 0===i?{}:i,c=Object(K.findDOMNode)(t.toggler),s=o(),u=t.targetContainer.getBoundingClientRect(),d=a?a(c,t.targetContainer):dt(c.getBoundingClientRect(),pt(l,s),u,n);return"fixed"!==r&&d&&d.targetContainerStyle&&(d.targetContainerStyle.top+=window.pageYOffset,d.targetContainerStyle.left+=window.pageXOffset),t.setState(d),d},t.close=function(){if(t.state.opened){var e=t.props.onClose;t.setState({opened:!1},(function(){t.removeGlobalListener(),e&&e()}))}},t.open=function(){t.state.opened||t.setState({opened:!0})},t.handleAfterEnter=function(){var e=t.props.onOpen,n=t.position();t.addGlobalListener(),e&&e(n)},t.handleGlobalClose=function(e){var n=t.props,o=n.preventCloseOnTarget;n.globalClose&&(o?t.toggler&&t.targetContainer&&document.body.contains(e.target)&&e.target.classList&&!t.targetContainer.contains(e.target)&&!Object(K.findDOMNode)(t.toggler).contains(e.target)&&!e.target.classList.contains("preventCloseOnTarget")&&t.close():t.close())},t.handleGlobalKeyDown=function(e){27===e.keyCode&&t.close()},t}return z()(n,[{key:"componentDidMount",value:function(){this.setState({id:X()("Popover")})}},{key:"getSnapshotBeforeUpdate",value:function(){return this.targetContainer?Array.from(this.targetContainer.classList).filter((function(t){return ht.includes(t)})):null}},{key:"componentDidUpdate",value:function(t,e,n){var o;n&&n.length>0&&this.targetContainer&&this.targetContainer.classList&&(o=this.targetContainer.classList).add.apply(o,P()(n))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.openTask),clearTimeout(this.closeTask),this.removeGlobalListener()}},{key:"getEventProps",value:function(){var t=this.props.toggleEvent;return"hover"===t?{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}:"click"===t?{onClick:this.handleClick}:{}}},{key:"addGlobalListener",value:function(){var t=this;document.addEventListener("click",this.handleGlobalClose),document.addEventListener("keydown",this.handleGlobalKeyDown),this.subscriptions=[Object(W.subscribe)("resize",this.position)],(this.props.scrollOutClear||this.props.hideOnScroll)&&this.subscriptions.push(Object(W.subscribe)("scroll",(function(){var e,n;!t.props.hideOnScroll&&(e=t.targetContainer,(n=e.getBoundingClientRect()).top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth))||t.handleGlobalClose()})))}},{key:"removeGlobalListener",value:function(){document.removeEventListener("click",this.handleGlobalClose),document.removeEventListener("keydown",this.globalKeyDown),this.subscriptions&&(this.subscriptions.forEach((function(t){return t.unsubscribe()})),this.subscriptions=null)}},{key:"render",value:function(){var t=this,e=this.props,n=e.toggler,o=e.toggleEvent,a=e.arrowed,r=e.children,l=e.className,c=e.targetClassName,s=e.positionStatus,u=e.noLayer,d=e.transitionEnterTimeout,f=e.transitionLeaveTimeout,h=this.state,m=h.id,g=h.opened,v=this.getEventProps(),b=Object.assign({ref:function(e){t.toggler=e},id:"".concat(m,"-toggle"),"aria-haspopup":!0,"aria-expanded":g,"aria-owns":"".concat(m,"-content")},v),O=this.state,y=O.arrowStyle,C=O.targetContainerStyle,w=O.placement,T=g&&Object(E.d)("div",q()({className:p()("GRPopover-content","GRPopover-content--".concat(w),c,{"GRPopover-content--fixed":"fixed"===s,"GRPopover-content--arrowed":a}),ref:function(e){t.targetContainer=e},style:C,id:"".concat(m,"-content"),"aria-labelledby":"".concat(m,"-toggle")},"hover"===o&&v),a&&Object(E.d)("span",{className:p()("GRPopover-arrow","GRPopover-arrow--".concat(w)),style:y}),r);return g&&!u&&(T=Object(E.d)(Y.a,null,T)),Object(E.d)("div",{className:p()("GRPopover",l)},Object(i.cloneElement)(n,b),Object(E.d)(Z.a,{transitionName:"GRPopover-content",timeout:{enter:d,exit:f},onAfterEnter:this.handleAfterEnter},T))}}]),n}(i.Component);mt.propTypes={toggler:u.a.node.isRequired,toggleEvent:u.a.string,targetClassName:u.a.string,delay:u.a.number,enterDelay:u.a.number,leaveDelay:u.a.number,onOpen:u.a.func,onClose:u.a.func,noLayer:u.a.bool,getContainer:u.a.func,placement:u.a.oneOf(Object.keys(o).map((function(t){return o[t]}))),arrowed:u.a.bool,stickHover:u.a.bool,position:u.a.func,positionStatus:u.a.string,preventCloseOnTarget:u.a.bool,globalClose:u.a.bool,scrollOutClear:u.a.bool,hideOnScroll:u.a.bool,boundary:u.a.shape({padding:u.a.number,getElement:u.a.func,getBoundaryInfo:u.a.func})},mt.defaultProps={toggleEvent:"click",delay:200,getContainer:function(){return document.body},placement:"bottom",arrowed:!1,preventCloseOnTarget:!1,globalClose:!0,stickHover:!1,noLayer:!1,scrollOutClear:!1,transitionEnterTimeout:200,transitionLeaveTimeout:200};var gt=n(267);function vt(t){var e=t.id,n=void 0===e?"":e,o=t.data,a=t.className,s=t.isEditor,u=t.fetcher,d=void 0===u?k.a:u,f=Object(i.useState)({}),v=r()(f,2),b=v[0],j=v[1],L=Object(i.useRef)(),F=b.avatarUrl,x=b.fullname,M=b.questionPrice,P=b.conversationCount,S=b.averageScore,G=b.badges,N=void 0===G?[]:G,z=b.votedCount,D=b.id,B=b.showPrice,_=(N.filter((function(t){return"identity"===t.type}))[0]||{}).description,H=(N.filter((function(t){return"best_answerer"===t.type}))[0]||{}).description,I=Object(gt.a)().ZhihuHybrid,A=!(z<100||H&&_),U=!(H||_||A||P),q=s?"https://www.zhihu.com/consult/people/".concat(D,"/conversation"):"https://www.zhihu.com/consult/people/".concat(D,"/conversation?").concat(h.a.stringify({zh_forcehybrid:1,zh_hide_nav_bar:!0,zh_hide_tab_bar:!0,route_simi_to_full:!0}));Object(i.useEffect)((function(){if(o)j(o);else{var t="https://www.zhihu.com/api/v4/infinity/cards/".concat(n.slice(4));d(t).then((function(t){j(Object(c.camelizeKeys)(t))})).catch((function(){}))}}),[o,d,n]);var K=D?Object(E.d)(T.e,{shouldTrackClick:!0,zaText:!0,zaType:"Card",zaBlock:"FeeConsultCard",zaAction:"OpenUrl",view:{eventType:"Click",elementLocation:{content:{id:D,type:"Conversation"}}},extra:{link:{url:q}},className:p()("FeeConsultCard",a),onClick:function(){s||(I?m.a.dispatch("base/openURL",{url:q}):window.open(q))}},Object(E.d)("img",{src:F,alt:""}),Object(E.d)("div",null,Object(E.d)("div",{className:"FeeConsultCard-name"},x),P>0&&Object(E.d)("div",{className:"FeeConsultCard-times"},Object(E.d)(g.a,null),Object(E.d)("span",null,P," 次咨询"),(H||_||A)&&S>0&&Object(E.d)(R,{mark:Number(S.toFixed(1)),max:5,color:"#FF9607",isLinear:!1})),!H&&!_&&!A&&P>0&&S>0&&Object(E.d)(R,{mark:Number(S.toFixed(1)),max:5,color:"#FF9607",isLinear:!1}),H&&Object(E.d)("div",{className:"FeeConsultCard-authorInfo"},Object(E.d)(O,null),H),_&&Object(E.d)("div",{className:"FeeConsultCard-authorInfo"},Object(E.d)(y.a,null),_),A&&Object(E.d)("div",{className:"FeeConsultCard-like"},Object(E.d)(C.a,null),z," 次赞同")),Object(E.d)("div",{className:"FeeConsultCard-fee",style:{bottom:U?"32px":"12px"}},B?"￥".concat(M/100," 咨询"):"去咨询",Object(E.d)(w.a,null))):Object(E.d)("div",null);return Object(E.d)(l.a.Fragment,null,s?Object(E.d)(mt,{noLayer:!0,arrowed:!0,toggler:K,placement:"bottom",className:"FeeCardConsultPopover",ref:function(t){return L.current=t}},Object(E.d)("div",{onClick:function(){I?m.a.dispatch("base/openURL",{url:q}):window.open(q)},className:"FeeCardConsultPopover-content"},Object(E.d)("div",{className:"FeeCardConsultPopover-previewLink"},"付费咨询页"))):K)}vt.propTypes={id:u.a.string.isRequired,fetcher:u.a.func,data:u.a.object,className:u.a.string,isEditor:u.a.bool};var bt=vt}}]);
//# sourceMappingURL=column.FeeConsultCard.1bb19631e2d23bf6011a.js.map